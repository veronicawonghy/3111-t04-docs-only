<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PopNames3111</a> &gt; <a href="index.source.html" class="el_package">comp3111.popnames</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">/**
 * Building on the sample skeleton for 'ui.fxml' COntroller Class generated by SceneBuilder 
 */
package comp3111.popnames;

import javafx.collections.ObservableList;
import javafx.fxml.FXML;
import javafx.geometry.Insets;
import javafx.scene.control.Alert;
import javafx.scene.control.Button;
import javafx.scene.control.ChoiceBox;
import javafx.scene.control.ComboBox;
import javafx.scene.control.Label;
import javafx.scene.control.RadioButton;
import javafx.scene.control.Tab;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.control.ToggleGroup;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.control.Tooltip;
import javafx.scene.text.Text;
import javafx.scene.control.Spinner;
import javafx.scene.control.TableView;
import javafx.scene.control.ScrollPane;
import javafx.scene.layout.VBox;
import javafx.scene.layout.AnchorPane;
import javafx.scene.layout.StackPane;
import javafx.scene.paint.Color;

import java.util.List;
import java.util.ArrayList;

import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.chart.BarChart;
import javafx.scene.chart.CategoryAxis;
import javafx.scene.chart.PieChart;
import javafx.scene.chart.NumberAxis;
import javafx.scene.chart.XYChart;
import javafx.stage.Stage;

/**
 * The Controller of the program.
 */
<span class="fc" id="L46">public class Controller {</span>

    @FXML
    private Tab tabTaskZero;

    @FXML
    private TextField textfieldNameF;

    @FXML
    private TextField textfieldYear;

    @FXML
    private Button buttonRankM;

    @FXML
    private TextField textfieldNameM;

    @FXML
    private Button buttonRankF;

    @FXML
    private Button buttonTopM;

    @FXML
    private Button buttonTopF;

    @FXML
    private Button buttonSummary;
    
    @FXML
    private Tab tabReport1;

    @FXML
    private ToggleGroup T1;

    @FXML
    private Spinner&lt;Integer&gt; tab1year;
    
    @FXML
    private Spinner&lt;Integer&gt; tab1numberOfNames;
    
    @FXML
    private ToggleGroup tab1ReportTypeGroup;

    @FXML
    private RadioButton tab1Summary;
    
    @FXML
    private RadioButton tab1DataTable;
    
    @FXML
    private RadioButton tab1BarChart;
    
    @FXML
    private RadioButton tab1PieChart;
    
    @FXML
    private VBox tab1Console;
    
    @FXML
    private TextArea tab1MText;
    
    @FXML
    private TextArea tab1FText;

    @FXML
    private TableView&lt;NameRecord&gt; tab1TableM;
    
    @FXML
    private TableView&lt;NameRecord&gt; tab1TableF;
    
    @FXML
    private BarChart&lt;String,Integer&gt; tab1BarM;
    
    @FXML
    private BarChart&lt;String,Integer&gt; tab1BarF;
    
    @FXML
    private AnchorPane tab1BarPaneM;

    @FXML
    private AnchorPane tab1BarPaneF;
    
    @FXML
    private PieChart tab1PieM;
    
    @FXML
    private PieChart tab1PieF;
    
    @FXML
    private AnchorPane tab1PiePaneM;

    @FXML
    private AnchorPane tab1PiePaneF;
    
    @FXML
    private Tab tabReport2;

    @FXML
    private ToggleGroup T11;
    
    @FXML
    private TextField tab2TextFieldStartingYear;
    
    @FXML
    private TextField tab2TextFieldEndingYear;
    
    @FXML
    private TextField tab2TextFieldRankOfNames;
    
    @FXML
    private Button tab2ButtonGenerateReport;
    
    @FXML
    private RadioButton tab2RadioButtonMale;
    
    @FXML
    private RadioButton tab2RadioButtonFemale;
    
    @FXML
    private VBox tab2VBox;
    
    @FXML
    private VBox vbox;

    @FXML
    private Tab tabReport3;

    @FXML
    private ToggleGroup T111;
    
    @FXML
    private TextField tab3TextFieldName;
    
    @FXML
    private ToggleGroup tab3GenderGroup;
    
    @FXML
    private RadioButton tab3RadioButtonMale;
    
    @FXML
    private RadioButton tab3RadioButtonFemale;
    
    @FXML
    private TextField tab3TextFieldStartYear;
    
    @FXML
    private TextField tab3TextFieldEndYear;
    
    @FXML
    private ToggleGroup tab3ReportTypeGroup;
    
    @FXML
    private RadioButton tab3RadioButtonSummary;
    
    @FXML
    private RadioButton tab3RadioButtonFullReport;

    @FXML
    private Tab tabApp1;
    
    @FXML
    private TextField tabApp1dadName;
    
    @FXML
    private TextField tabApp1momName;
    
    @FXML
    private Spinner&lt;Integer&gt; tabApp1dadBirthYear;
    
    @FXML
    private Spinner&lt;Integer&gt; tabApp1momBirthYear;
    
    @FXML
    private Spinner&lt;Integer&gt; tabApp1targetYear;
    
    @FXML
    private ToggleGroup tabApp1AlgGroup;

    @FXML
    private RadioButton tabApp1alg1;
    
    @FXML
    private RadioButton tabApp1alg2;

    @FXML
    private Tab tabApp2;
    
    @FXML
    private TextField tabApp2UserYOB;
    
    @FXML
    private Label tabApp2LabelAcceptableYearOfDiff;
    
    @FXML
    private TextField tabApp2MateAcceptableYearOfDiff;
    
    @FXML
    private RadioButton tabApp2RadioButtonSimple;
    
    @FXML
    private RadioButton tabApp2RadioButtonAdvanced;
    
    @FXML
    private RadioButton tabApp2RadioButtonMateMale;
    
    @FXML
    private RadioButton tabApp2RadioButtonMateFemale;
    
    @FXML
    private Label tabApp2LabelPreference;
    
    @FXML
    private RadioButton tabApp2RadioButtonMatePreferenceYounger;
    
    @FXML
    private RadioButton tabApp2RadioButtonMatePreferenceOlder;
    
    @FXML
    private VBox tabApp2VBox;

    @FXML
    private Tab tabApp3;
    
    @FXML
    private TextField tabApp3TextFieldUserName;
    
    @FXML
    private TextField tabApp3TextFieldMateName;
    
    @FXML
    private ToggleGroup tabApp3UserGenderGroup;
    
    @FXML
    private RadioButton tabApp3RadioButtonUserMale;
    
    @FXML
    private RadioButton tabApp3RadioButtonUserFemale;
    
    @FXML
    private ToggleGroup tabApp3MateGenderGroup;
    
    @FXML
    private RadioButton tabApp3RadioButtonMateMale;
    
    @FXML
    private RadioButton tabApp3RadioButtonMateFemale;
    
    @FXML
    private ChoiceBox&lt;String&gt; tabApp3ChoiceBoxUserHoroscope;
    
    @FXML
    private ChoiceBox&lt;String&gt; tabApp3ChoiceBoxMateHoroscope;
    
    @FXML
    private TextField tabApp3TextFieldUserYOB;
    
    @FXML
    private ToggleGroup tabApp3MateAgePreferenceGroup;
    
    @FXML
    private RadioButton tabApp3RadioButtonMateOlder;
    
    @FXML
    private RadioButton tabApp3RadioButtonMateYounger;
    
    @FXML
    private ToggleGroup tabApp3AlgorithmGroup;
    
    @FXML
    private RadioButton tabApp3RadioButtonSimple;
    
    @FXML
    private RadioButton tabApp3RadioButtonDetailed;

    @FXML
    private TextArea textAreaConsole;
    
    @FXML 
    private ScrollPane textAreaConsoleScrollPane;
    
    /**
     *  To initialize the ui.fxml by selecting radio button tab1Summary in Task One Tab, 
     *  selecting radio button tabApp1alg1 in Task Four Tab,
     *  setting the choice box items in Task Six Tab
     *  To be triggered by running the UI
     *  
     */
    @FXML
    private void initialize() {
<span class="fc" id="L336">    	tab1Summary.setSelected(true);</span>
<span class="fc" id="L337">    	tabApp1alg1.setSelected(true);</span>
<span class="fc" id="L338">    	tab3RadioButtonSummary.setTooltip(new Tooltip(&quot;A short text-only paragraph&quot;));</span>
<span class="fc" id="L339">    	tab3RadioButtonFullReport.setTooltip(new Tooltip(&quot;A detailed report with graphs&quot;));</span>
<span class="fc" id="L340">    	tabApp3ChoiceBoxUserHoroscope.getItems().addAll(&quot;Aries&quot;, &quot;Taurus&quot;, &quot;Gemini&quot;, &quot;Cancer&quot;, &quot;Leo&quot;, &quot;Virgo&quot;, &quot;Libra&quot;, &quot;Scorpio&quot;, &quot;Sagittarius&quot;, &quot;Capricorn&quot;, &quot;Aquarius&quot;, &quot;Pisces&quot;);</span>
<span class="fc" id="L341">    	tabApp3ChoiceBoxMateHoroscope.getItems().addAll(&quot;Not Sure&quot;,&quot;Aries&quot;, &quot;Taurus&quot;, &quot;Gemini&quot;, &quot;Cancer&quot;, &quot;Leo&quot;, &quot;Virgo&quot;, &quot;Libra&quot;, &quot;Scorpio&quot;, &quot;Sagittarius&quot;, &quot;Capricorn&quot;, &quot;Aquarius&quot;, &quot;Pisces&quot;);</span>
<span class="fc" id="L342">    	tabApp3ChoiceBoxMateHoroscope.setTooltip(new Tooltip(&quot;Select Not Sure if you don't know his/her horoscope&quot;));</span>
<span class="fc" id="L343">    	tabApp3RadioButtonSimple.setTooltip(new Tooltip(&quot;Simple prediction based on your name&quot;));</span>
<span class="fc" id="L344">    	tabApp3RadioButtonDetailed.setTooltip(new Tooltip(&quot;Comprehensive prediction based on Astrology and Numerology&quot;));</span>
<span class="fc" id="L345">    }</span>

    /**
     *  To initialize the textAreaConsole by bringing it to the front, 
     *  scroll to top and set text to empty
     *  To be triggered by entering and exiting Task One, Two, Four and Five Tab
     *  
     */
    @FXML
    void doConsoleOnFront() {
<span class="pc bpc" id="L355" title="1 of 2 branches missed.">    	if(textAreaConsole == null) return;</span>
<span class="fc" id="L356">    	textAreaConsole.toFront();</span>
<span class="fc" id="L357">    	textAreaConsoleScrollPane.setVvalue(0);</span>
<span class="fc" id="L358">    	textAreaConsole.setText(&quot;&quot;);</span>
<span class="fc" id="L359">    }</span>
    
    /**
     *  Task Zero
     *  To be triggered by the &quot;Summary&quot; button on the Task Zero Tab 
     *  
     */
    @FXML
    void doSummary() {
<span class="nc" id="L368">    	int year = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L369">    	String oReport = AnalyzeNames.getSummary(year);</span>
<span class="nc" id="L370">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L371">    }</span>

  
    /**
     *  Task Zero
     *  To be triggered by the &quot;Rank (female)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRankF() {
<span class="fc" id="L381">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L382">    	String iNameF = textfieldNameF.getText();</span>
<span class="fc" id="L383">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L384">    	int oRank = AnalyzeNames.getRank(iYear, iNameF, &quot;F&quot;);</span>
<span class="pc bpc" id="L385" title="1 of 2 branches missed.">    	if (oRank == -1)</span>
<span class="nc" id="L386">    		oReport = String.format(&quot;The name %s (female) has not been ranked in the year %d.\n&quot;, iNameF, iYear);</span>
    	else
<span class="fc" id="L388">    		oReport = String.format(&quot;Rank of %s (female) in year %d is #%d.\n&quot;, iNameF, iYear, oRank);</span>
<span class="fc" id="L389">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L390">    }</span>

  
    /**
     *  Task Zero
     *  To be triggered by the &quot;Rank (male)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRankM() {
<span class="fc" id="L400">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L401">    	String iNameM = textfieldNameM.getText();</span>
<span class="fc" id="L402">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L403">    	int oRank = AnalyzeNames.getRank(iYear, iNameM, &quot;M&quot;);</span>
<span class="pc bpc" id="L404" title="1 of 2 branches missed.">    	if (oRank == -1)</span>
<span class="nc" id="L405">    		oReport = String.format(&quot;The name %s (male) has not been ranked in the year %d.\n&quot;, iNameM, iYear);</span>
    	else
<span class="fc" id="L407">    		oReport = String.format(&quot;Rank of %s (male) in year %d is #%d.\n&quot;, iNameM, iYear, oRank);</span>
<span class="fc" id="L408">    	textAreaConsole.setText(oReport);</span>
<span class="fc" id="L409">    }</span>


    /**
     *  Task Zero
     *  To be triggered by the &quot;Top 5 (female)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doTopF() {
<span class="nc" id="L419">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L420">    	final int topN = 5;</span>
<span class="nc" id="L421">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L422">    	oReport = String.format(&quot;Top %d most popular names (female) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L423" title="All 2 branches missed.">    	for (int i=1; i&lt;=topN; i++)</span>
<span class="nc" id="L424">    		oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;F&quot;));</span>
<span class="nc" id="L425">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L426">    }</span>


    /**
     *  Task Zero
     *  To be triggered by the &quot;Top 5 (male)&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doTopM() {
<span class="nc" id="L436">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L437">    	final int topN = 5;</span>
<span class="nc" id="L438">    	int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L439">    	oReport = String.format(&quot;Top %d most popular names (male) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L440" title="All 2 branches missed.">    	for (int i=1; i&lt;=topN; i++)</span>
<span class="nc" id="L441">    		oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;M&quot;));</span>
<span class="nc" id="L442">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L443">    }</span>
    
    
    /**
     * Task One
     * To be triggered by the &quot;Go!&quot; button on the Task One Tab. In 
     * general, the {@code doMostPopularNamesReport} shows the 
     * selected type of report in the console.
     * &lt;p&gt;
     * The functions in class {@code MostPopularNamesReport} are called:
     * &lt;ul&gt;
     * &lt;li&gt;Step 1: check whether the inputs {@code year} and {@code 
     * numberOfNames} are valid by {@code checkInput}.
     * &lt;li&gt;Step 2: generate the observable list of {@code NameRecord} by 
     * {@code genNameRecordList}.
     * &lt;li&gt;Step 3 (Summary): generate summary in the console by 
     * {@code genSummary}.
     * &lt;li&gt;Step 3 (Data Table): generate description and data table in 
     * the console by {@code genDesciption} and {@code genDataTable}.
     * &lt;li&gt;Step 3 (Bar Chart): generate description and data table in 
     * the console by {@code genDesciption} and {@code genBarChart}.
     * &lt;li&gt;Step 3 (Data Table): generate description and data table in 
     * the console by {@code genDesciption} and {@code genPieChart}.
     * &lt;/ul&gt;
     * &lt;p&gt;
     * @see		comp3111.popnames.MostPopularNamesReport
     * @see		comp3111.popnames.NameRecord
     */
    @FXML
    void doMostPopularNamesReport() {
<span class="fc" id="L473">    	int year = tab1year.getValue();</span>
<span class="fc" id="L474">    	int numberOfNames = tab1numberOfNames.getValue();</span>
<span class="fc" id="L475">    	MostPopularNamesReport myReport = new MostPopularNamesReport(year,numberOfNames);</span>
    	
<span class="fc" id="L477">    	Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="fc" id="L478">    	String alertText = myReport.checkInput();</span>
<span class="pc bpc" id="L479" title="1 of 2 branches missed.">    	if (alertText != &quot;&quot;) {</span>
<span class="nc" id="L480">    		alert.setContentText(alertText);</span>
<span class="nc" id="L481">    		alert.show();</span>
<span class="nc" id="L482">    		return;</span>
    	}
    	
<span class="fc" id="L485">    	ObservableList&lt;NameRecord&gt; olistM = myReport.genNameRecordList(&quot;M&quot;);</span>
<span class="fc" id="L486">    	ObservableList&lt;NameRecord&gt; olistF = myReport.genNameRecordList(&quot;F&quot;);</span>
<span class="fc bfc" id="L487" title="All 2 branches covered.">    	if (tab1Summary.isSelected()) {</span>
<span class="fc" id="L488">    		doConsoleOnFront();</span>

<span class="fc" id="L490">        	String oReport = &quot;&quot;;</span>
<span class="fc" id="L491">    		oReport += myReport.genSummary(&quot;M&quot;, olistM);</span>
<span class="fc" id="L492">    		oReport += myReport.genSummary(&quot;F&quot;, olistF);</span>
    		
<span class="fc" id="L494">    		textAreaConsole.setText(oReport);</span>
<span class="fc" id="L495">    	}</span>
<span class="fc bfc" id="L496" title="All 2 branches covered.">		else if (tab1DataTable.isSelected()) {</span>
<span class="fc" id="L497">			doConsoleOnFront();</span>
<span class="fc" id="L498">			tab1Console.toFront();</span>
<span class="fc" id="L499">			tab1TableM.toFront();</span>
<span class="fc" id="L500">			tab1TableF.toFront();</span>
			
<span class="fc" id="L502">			tab1MText.setText(myReport.genDesciption(&quot;M&quot;));</span>
<span class="fc" id="L503">			tab1FText.setText(myReport.genDesciption(&quot;F&quot;));</span>
			
<span class="fc" id="L505">			myReport.genDataTable(&quot;M&quot;, olistM, tab1TableM);</span>
<span class="fc" id="L506">			myReport.genDataTable(&quot;F&quot;, olistF, tab1TableF);</span>
		}
<span class="fc bfc" id="L508" title="All 2 branches covered.">		else if (tab1BarChart.isSelected()) {</span>
<span class="fc" id="L509">			doConsoleOnFront();</span>
<span class="fc" id="L510">			tab1Console.toFront();</span>
<span class="fc" id="L511">			tab1BarPaneM.toFront();</span>
<span class="fc" id="L512">			tab1BarPaneF.toFront();</span>
			
<span class="fc" id="L514">			tab1MText.setText(myReport.genDesciption(&quot;M&quot;));</span>
<span class="fc" id="L515">			tab1FText.setText(myReport.genDesciption(&quot;F&quot;));</span>
			
<span class="fc" id="L517">			myReport.genBarChart(&quot;M&quot;, olistM, tab1BarM);</span>
<span class="fc" id="L518">			myReport.genBarChart(&quot;F&quot;, olistF, tab1BarF);</span>
		}
<span class="pc bpc" id="L520" title="1 of 2 branches missed.">		else if (tab1PieChart.isSelected()) {</span>
<span class="fc" id="L521">			doConsoleOnFront();</span>
<span class="fc" id="L522">			tab1Console.toFront();</span>
<span class="fc" id="L523">			tab1PiePaneM.toFront();</span>
<span class="fc" id="L524">			tab1PiePaneF.toFront();</span>
			
<span class="fc" id="L526">			tab1MText.setText(myReport.genDesciption(&quot;M&quot;));</span>
<span class="fc" id="L527">			tab1FText.setText(myReport.genDesciption(&quot;F&quot;));</span>
			
<span class="fc" id="L529">			myReport.genPieChart(&quot;M&quot;, olistM, tab1PieM);</span>
<span class="fc" id="L530">			myReport.genPieChart(&quot;F&quot;, olistF, tab1PieF);</span>
		}
<span class="fc" id="L532">    }</span>
    
    /**
     *  Task 2
     *  To be triggered by the &quot;Generate Report&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doGenerateReport() {
<span class="nc" id="L541">    	String oReport = &quot;&quot;;</span>
<span class="nc" id="L542">    	String strErrMsg = &quot;&quot;;</span>
<span class="nc" id="L543">    	String strStartingYear = tab2TextFieldStartingYear.getText();</span>
<span class="nc" id="L544">    	String strEndingYear = tab2TextFieldEndingYear.getText();</span>
<span class="nc" id="L545">    	String strRankOfNames = tab2TextFieldRankOfNames.getText();</span>
    	
<span class="nc" id="L547">    	String strGender = &quot;&quot;;</span>
<span class="nc bnc" id="L548" title="All 4 branches missed.">    	if (!tab2RadioButtonMale.isSelected() &amp;&amp; !tab2RadioButtonFemale.isSelected())</span>
    	{
<span class="nc" id="L550">        	strErrMsg += &quot;Gender cannot be empty\r\n&quot;;</span>
    	}
<span class="nc bnc" id="L552" title="All 2 branches missed.">    	else if (tab2RadioButtonMale.isSelected())</span>
    	{
<span class="nc" id="L554">    		strGender = &quot;M&quot;;</span>
    	}
    	else
    	{
<span class="nc" id="L558">    		strGender = &quot;F&quot;;</span>
    	}
    	
<span class="nc" id="L561">    	KthPopularNamesReport report = new KthPopularNamesReport(strRankOfNames, strGender, strStartingYear, strEndingYear);</span>
<span class="nc" id="L562">    	String strStatus = report.generateKthPopularNamesList();</span>
<span class="nc bnc" id="L563" title="All 2 branches missed.">    	if (strStatus != &quot;Success&quot;)</span>
    	{
<span class="nc" id="L565">        	strErrMsg += strStatus;</span>
    	}
<span class="nc" id="L567">    	Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="nc bnc" id="L568" title="All 2 branches missed.">    	if (!strErrMsg.isEmpty())</span>
    	{
<span class="nc" id="L570">    		alert.setContentText(strErrMsg);</span>
<span class="nc" id="L571">    		alert.show();</span>
<span class="nc" id="L572">    		return;</span>
    	}
    	
<span class="nc" id="L575">    	Label tab2SummaryLabel = new Label(&quot;A. Summary of results&quot;);</span>
<span class="nc" id="L576">    	tab2SummaryLabel.setLayoutX(300);</span>
<span class="nc" id="L577">    	tab2SummaryLabel.setId(&quot;tab2SummaryLabel&quot;);</span>
    	
<span class="nc" id="L579">    	Label tab2TableLabel = new Label(&quot;B. Relevant Results presented with a table&quot;);</span>
<span class="nc" id="L580">    	tab2TableLabel.setLayoutX(300);</span>
<span class="nc" id="L581">    	tab2TableLabel.setId(&quot;tab2TableLabel&quot;);</span>

<span class="nc" id="L583">    	Label tab2BarChartLabel = new Label(&quot;C. Relevant Results presented with a bar chart&quot;);</span>
<span class="nc" id="L584">    	tab2BarChartLabel.setLayoutX(300);</span>
<span class="nc" id="L585">    	tab2BarChartLabel.setId(&quot;tab2BarChartLabel&quot;);</span>

<span class="nc" id="L587">    	Label tab2PieChartLabel = new Label(&quot;D. Relevant Results presented with a pie chart&quot;);</span>
<span class="nc" id="L588">    	tab2PieChartLabel.setLayoutY(300);</span>
<span class="nc" id="L589">    	tab2PieChartLabel.setId(&quot;tab2PieChartLabel&quot;);</span>

<span class="nc" id="L591">    	TextArea tab2TextArea = new TextArea();</span>
<span class="nc" id="L592">    	tab2TextArea.setText(oReport + report.getSummary());</span>
<span class="nc" id="L593">    	tab2TextArea.setWrapText(true);</span>
<span class="nc" id="L594">    	tab2TextArea.setId(&quot;tab2TextArea&quot;);</span>
    	
<span class="nc" id="L596">    	tab2VBox.getChildren().clear();</span>
<span class="nc" id="L597">    	tab2VBox.toFront();</span>
    	
<span class="nc" id="L599">    	tab2VBox.getChildren().add(tab2SummaryLabel);</span>
<span class="nc" id="L600">    	tab2VBox.getChildren().add(tab2TextArea);</span>
<span class="nc" id="L601">    	tab2VBox.getChildren().add(tab2TableLabel);</span>
<span class="nc" id="L602">    	tab2VBox.getChildren().add(report.getTable());</span>
<span class="nc" id="L603">    	tab2VBox.getChildren().add(tab2BarChartLabel);</span>
<span class="nc" id="L604">    	tab2VBox.getChildren().add(report.getBarChart());</span>
<span class="nc" id="L605">    	tab2VBox.getChildren().add(tab2PieChartLabel);</span>
<span class="nc" id="L606">    	tab2VBox.getChildren().add(report.getPieChart());</span>
<span class="nc" id="L607">    }</span>
    
    /**
     *  Task 3: Generate the popularity of names report
     *  &lt;br&gt;
     *  To be triggered by the &quot;Click!&quot; button on the Reporting 3 Tab
     */
    @FXML
    void doPopularityOfNamesReport() {
<span class="fc" id="L616">    	textAreaConsole.setText(&quot;&quot;);</span>
    	String name;
    	PopularityOfNamesReport.Gender gender;
    	int startingYear, endingYear;
    	String reportType;
    	
<span class="fc" id="L622">    	Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="fc" id="L623">    	String alertText = &quot;&quot;;</span>
    	
    	// Name validation - Check if the input from name field is not valid
<span class="fc" id="L626">    	String nameValidationResult = PopularityOfNamesReport.isValidName(tab3TextFieldName.getText());</span>
<span class="fc bfc" id="L627" title="All 2 branches covered.">    	if(nameValidationResult != &quot;SUCCESS&quot;) {</span>
    		// prompt alert 
<span class="fc" id="L629">    		alertText += nameValidationResult;</span>
    	}
    	// Gender validation - Check if a gender has been selected
<span class="fc bfc" id="L632" title="All 2 branches covered.">    	if(tab3GenderGroup.getSelectedToggle() == null) {</span>
    		// prompt alert
<span class="fc" id="L634">    		alertText += &quot;Please select a gender. \n&quot;;</span>
    	}    	
    	// Year Period validation
<span class="fc" id="L637">    	String yearPeriodValidationResult = PopularityOfNamesReport.isValidYearPeriod(tab3TextFieldStartYear.getText(), tab3TextFieldEndYear.getText());</span>
<span class="fc bfc" id="L638" title="All 2 branches covered.">    	if(yearPeriodValidationResult!=&quot;SUCCESS&quot;) {</span>
    		// prompt alert
<span class="fc" id="L640">    		alertText += yearPeriodValidationResult;</span>
    	}
    	// Report Type validation - Check if a report type has been selected
<span class="fc bfc" id="L643" title="All 2 branches covered.">    	if(tab3ReportTypeGroup.getSelectedToggle() == null) {</span>
    		// prompt alert
<span class="fc" id="L645">    		alertText += &quot;Please select a report type. \n&quot;;</span>
    	}
    	
<span class="fc bfc" id="L648" title="All 2 branches covered.">    	if (alertText != &quot;&quot;) {</span>
<span class="fc" id="L649">    		alert.setContentText(alertText);</span>
<span class="fc" id="L650">    		alert.show();</span>
<span class="fc" id="L651">    		return;</span>
    	} else {
<span class="fc" id="L653">        	name = tab3TextFieldName.getText(); // set name</span>
<span class="fc bfc" id="L654" title="All 2 branches covered.">        	if(tab3RadioButtonMale.isSelected()) gender = PopularityOfNamesReport.Gender.MALE; // set gender</span>
<span class="fc" id="L655">    		else gender = PopularityOfNamesReport.Gender.FEMALE; </span>
<span class="fc" id="L656">        	startingYear = Integer.parseInt(tab3TextFieldStartYear.getText()); // set year period</span>
<span class="fc" id="L657">    		endingYear = Integer.parseInt(tab3TextFieldEndYear.getText());</span>
<span class="fc bfc" id="L658" title="All 2 branches covered.">    		if(tab3RadioButtonSummary.isSelected()) reportType = &quot;Summary&quot;; // set report type</span>
<span class="fc" id="L659">    		else reportType = &quot;Full Report&quot;;</span>
    	}
    	
    	// Check if the name has any record in dataset
<span class="fc" id="L663">    	int rank = 9999;</span>
<span class="fc bfc" id="L664" title="All 2 branches covered.">    	for(int i =0; i &lt; endingYear - startingYear + 1; i++) {</span>
<span class="fc bfc" id="L665" title="All 2 branches covered.">    		int rankOfTheYear = AnalyzeNames.getRank(startingYear + i, name, (gender==PopularityOfNamesReport.Gender.MALE? &quot;M&quot; : &quot;F&quot;));</span>
<span class="fc bfc" id="L666" title="All 2 branches covered.">    		if (rankOfTheYear != -1) {</span>
<span class="fc bfc" id="L667" title="All 2 branches covered.">    			if(rankOfTheYear &lt; rank) {</span>
<span class="fc" id="L668">    				rank = rankOfTheYear;</span>
    			}
    		}
    	}
<span class="fc bfc" id="L672" title="All 2 branches covered.">    	if (rank == 9999) {</span>
<span class="fc" id="L673">    		alert.setContentText(&quot;There is no data for the name in the given period!&quot;);</span>
<span class="fc" id="L674">    		alert.show();</span>
<span class="fc" id="L675">    		return;</span>
    	}
<span class="pc bpc" id="L677" title="1 of 2 branches missed.">    	if (rank &gt; 1000) {</span>
<span class="nc" id="L678">    		alert.setContentText(&quot;The name is not ranked within top 1000 in any year the given period!&quot;);</span>
<span class="nc" id="L679">    		alert.show();</span>
<span class="nc" id="L680">    		return;</span>
    	}
<span class="fc" id="L682">    	PopularityOfNamesReport report = new PopularityOfNamesReport(name, gender, startingYear, endingYear);</span>
    	
<span class="fc bfc" id="L684" title="All 2 branches covered.">    	if(reportType == &quot;Summary&quot;) {</span>
<span class="fc" id="L685">    		textAreaConsole.setWrapText(true);</span>
<span class="fc" id="L686">    		textAreaConsole.setPadding(new Insets(5, 5, 5, 5));</span>
<span class="fc" id="L687">    		textAreaConsole.setText(report.getSummary());</span>
    	}	
    	else {
<span class="fc" id="L690">    		report.getFullReport();</span>
    	}
<span class="fc" id="L692">    }</span>
    
    /**
     *  Task Four
     *  To be triggered by the &quot;Go!&quot; button on the Task Four Tab
     *  
     */
    @FXML
    void doNameRecommendationService() {
<span class="fc" id="L701">    	doConsoleOnFront();</span>
<span class="fc" id="L702">    	String dadName = tabApp1dadName.getText();</span>
<span class="fc" id="L703">    	int dadBirthYear = tabApp1dadBirthYear.getValue();</span>
<span class="fc" id="L704">    	String momName = tabApp1momName.getText();</span>
<span class="fc" id="L705">    	int momBirthYear = tabApp1momBirthYear.getValue();</span>
<span class="fc" id="L706">    	int targetYear = tabApp1targetYear.getValue();</span>
<span class="fc" id="L707">    	int algoPreference = 0;</span>
<span class="fc bfc" id="L708" title="All 2 branches covered.">    	if (tabApp1alg1.isSelected())</span>
<span class="fc" id="L709">    		algoPreference = 1;</span>
<span class="pc bpc" id="L710" title="1 of 2 branches missed.">    	else if (tabApp1alg2.isSelected())</span>
<span class="fc" id="L711">    		algoPreference = 2;</span>
<span class="fc" id="L712">    	NameRecommendationService myReport = new NameRecommendationService(dadName,dadBirthYear,momName,momBirthYear,targetYear,algoPreference);</span>
    	
<span class="fc" id="L714">    	Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="fc" id="L715">    	String alertText = myReport.checkInput();</span>
<span class="pc bpc" id="L716" title="1 of 2 branches missed.">    	if (alertText != &quot;&quot;) {</span>
<span class="nc" id="L717">    		alert.setContentText(alertText);</span>
<span class="nc" id="L718">    		alert.show();</span>
<span class="nc" id="L719">    		return;</span>
    	}
    	
<span class="fc" id="L722">    	String oReport = &quot;&quot;;</span>
<span class="fc" id="L723">		oReport += myReport.getName(&quot;M&quot;);</span>
<span class="fc" id="L724">		oReport += myReport.getName(&quot;F&quot;);</span>
<span class="fc" id="L725">		oReport += &quot;Congratulations to your new family member!&quot;;</span>
<span class="fc" id="L726">		textAreaConsole.setText(oReport);</span>
<span class="fc" id="L727">    }</span>
    
    /**
     *  Task 5
     *  To be triggered by the &quot;Make Prediction&quot; button on the Application 2 Tab
     *  
     */
    @FXML
    void doMakePrediction() {
<span class="nc" id="L736">    	String strPredictedName = &quot;&quot;;</span>
<span class="nc" id="L737">    	String strMateGender = &quot;&quot;;</span>
<span class="nc" id="L738">    	String strUserYOB = tabApp2UserYOB.getText();</span>
<span class="nc" id="L739">    	String strMatePreference = &quot;&quot;;</span>
<span class="nc" id="L740">    	Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="nc" id="L741">    	String strErrMsg = &quot;&quot;;</span>
<span class="nc" id="L742">    	String strStatus = &quot;&quot;;</span>
<span class="nc bnc" id="L743" title="All 4 branches missed.">    	if (!tabApp2RadioButtonMateMale.isSelected() &amp;&amp; !tabApp2RadioButtonMateFemale.isSelected())</span>
    	{
<span class="nc" id="L745">        	strErrMsg += &quot;Mate's Gender cannot be empty\n&quot;;</span>
    	}
<span class="nc bnc" id="L747" title="All 2 branches missed.">    	else if (tabApp2RadioButtonMateMale.isSelected())</span>
    	{
<span class="nc" id="L749">    		strMateGender = &quot;M&quot;;</span>
    	}
    	else
    	{
<span class="nc" id="L753">    		strMateGender = &quot;F&quot;;</span>
    	}
<span class="nc" id="L755">    	CompatiblePairNamePredictionService report = new CompatiblePairNamePredictionService(strUserYOB, strMateGender);</span>
<span class="nc" id="L756">    	report.checkIsValidSimpleInputs();</span>
<span class="nc bnc" id="L757" title="All 2 branches missed.">    	if (tabApp2RadioButtonSimple.isSelected()) </span>
    	{
<span class="nc" id="L759">    		strStatus = report.generateSimpleOutput();</span>
<span class="nc bnc" id="L760" title="All 2 branches missed.">    		if (strStatus != &quot;Success&quot;)</span>
    		{
<span class="nc" id="L762">    			strErrMsg += strStatus;</span>
    		}
    		else
    		{
<span class="nc" id="L766">    			strPredictedName = report.getSimpleOutput();</span>
    		}
    	}
    	else
    	{
<span class="nc bnc" id="L771" title="All 4 branches missed.">        	if (!tabApp2RadioButtonMatePreferenceYounger.isSelected() &amp;&amp; !tabApp2RadioButtonMatePreferenceOlder.isSelected())</span>
        	{
<span class="nc" id="L773">        		strMatePreference = &quot;&quot;;</span>
        	}
<span class="nc bnc" id="L775" title="All 2 branches missed.">        	else if (tabApp2RadioButtonMatePreferenceYounger.isSelected())</span>
        	{
<span class="nc" id="L777">        		strMatePreference = &quot;Younger&quot;;</span>
        	}
        	else
        	{
<span class="nc" id="L781">        		strMatePreference = &quot;Older&quot;;</span>
        	}
<span class="nc" id="L783">        	String strMateAcceptableYearOfDiff = tabApp2MateAcceptableYearOfDiff.getText();</span>
<span class="nc" id="L784">    		report.setAdvancedInput(strMatePreference, strMateAcceptableYearOfDiff);</span>
<span class="nc" id="L785">    		report.checkIsValidAdvancedInputs();</span>
<span class="nc" id="L786">    		strStatus = report.generateAdvancedOutput();</span>
<span class="nc bnc" id="L787" title="All 2 branches missed.">    		if (strStatus != &quot;Success&quot;)</span>
    		{
<span class="nc" id="L789">    			strErrMsg += strStatus;</span>
    		}
    		else
    		{
<span class="nc" id="L793">    			strPredictedName = report.getAdvancedOutput();</span>
    		}
    	}
<span class="nc bnc" id="L796" title="All 2 branches missed.">    	if (!strErrMsg.isEmpty())</span>
    	{
<span class="nc" id="L798">    		alert.setContentText(strErrMsg);</span>
<span class="nc" id="L799">    		alert.show();</span>
<span class="nc" id="L800">    		return;</span>
    	}
<span class="nc" id="L802">    	tab2VBox.getChildren().clear();</span>
<span class="nc" id="L803">		tab2VBox.toFront();</span>
		
<span class="nc" id="L805">		Stage stage = new Stage();</span>
<span class="nc" id="L806">		String strPredictionMessage = &quot;&quot;;</span>
<span class="nc bnc" id="L807" title="All 2 branches missed.">		if (tabApp2RadioButtonSimple.isSelected())</span>
		{
<span class="nc" id="L809">			strPredictionMessage = report.getSimplePredictionMessage();</span>
		}
		else
		{
<span class="nc" id="L813">			strPredictionMessage = report.getAdvancedPredictionMessage();</span>
		}
<span class="nc" id="L815">		TextArea predictedNameTextArea = new TextArea(strPredictionMessage);</span>
<span class="nc" id="L816">		predictedNameTextArea.setEditable(false);</span>
<span class="nc" id="L817">		predictedNameTextArea.setPrefHeight(40);</span>
		Image img;
<span class="nc bnc" id="L819" title="All 2 branches missed.">		if (strMateGender == &quot;M&quot;)</span>
		{
<span class="nc" id="L821">			img = new Image(&quot;file:src/main/resources/images/handsome.jpg&quot;);</span>
		}
		else
		{
<span class="nc" id="L825">			img = new Image(&quot;file:src/main/resources/images/beautiful.jpg&quot;);</span>
		}
	    //Setting the image view 
<span class="nc" id="L828">	    ImageView imageView = new ImageView(); </span>
<span class="nc" id="L829">	    imageView.setImage(img);</span>
<span class="nc" id="L830">	    imageView.setFitWidth(1000);</span>
<span class="nc" id="L831">	    imageView.setPreserveRatio(true);</span>
<span class="nc" id="L832">	    imageView.setSmooth(true);</span>
<span class="nc" id="L833">	    imageView.setCache(true);   </span>
<span class="nc" id="L834">	    VBox tabApp2VBox = new VBox();</span>
<span class="nc" id="L835">	    tabApp2VBox.getChildren().add(predictedNameTextArea);</span>
<span class="nc" id="L836">	    tabApp2VBox.getChildren().add(imageView);</span>
<span class="nc" id="L837">		Scene scene = new Scene(tabApp2VBox, 900, 700);</span>
<span class="nc" id="L838">		stage.setScene(scene);</span>
<span class="nc" id="L839">		stage.show();</span>
<span class="nc" id="L840">    }</span>
    
    @FXML
    void showSimpleInputs()
    {
<span class="nc" id="L845">    	tabApp2LabelAcceptableYearOfDiff.setVisible(false);</span>
<span class="nc" id="L846">    	tabApp2MateAcceptableYearOfDiff.setVisible(false);</span>
<span class="nc" id="L847">    	tabApp2LabelPreference.setVisible(false);</span>
<span class="nc" id="L848">    	tabApp2RadioButtonMatePreferenceYounger.setVisible(false);</span>
<span class="nc" id="L849">    	tabApp2RadioButtonMatePreferenceOlder.setVisible(false);</span>
<span class="nc" id="L850">    }</span>
    
    @FXML
    void showAdvancedInputs()
    {
<span class="nc" id="L855">    	tabApp2LabelAcceptableYearOfDiff.setVisible(true);</span>
<span class="nc" id="L856">    	tabApp2MateAcceptableYearOfDiff.setVisible(true);</span>
<span class="nc" id="L857">    	tabApp2LabelPreference.setVisible(true);</span>
<span class="nc" id="L858">    	tabApp2RadioButtonMatePreferenceYounger.setVisible(true);</span>
<span class="nc" id="L859">    	tabApp2RadioButtonMatePreferenceOlder.setVisible(true);</span>
<span class="nc" id="L860">    }</span>
    
    /**
     *  Task 6: Start the Score Prediction Service
     *  &lt;br&gt;
     *  To be triggered by the &quot;Click!&quot; button on the Application 3 Tab.
     */
    @FXML
    void doScorePredictionService() {
<span class="fc" id="L869">    	textAreaConsole.setText(&quot;&quot;);</span>
    	String userName, mateName;
    	ScorePredictionService.Gender userGender, mateGender;
    	ScorePredictionService.Horoscope userHoroscope, mateHoroscope;
    	int userBirthYear;
    	ScorePredictionService.mateAge mateAgePref;
    	ScorePredictionService.algorithm algoPref;

<span class="fc" id="L877">    	Alert alert = new Alert(Alert.AlertType.ERROR);</span>
<span class="fc" id="L878">    	String alertText = &quot;&quot;;</span>
    	
    	// Name validation - Check if the input from name field is not valid
    	// User Name
<span class="fc" id="L882">    	String nameValidationResult = PopularityOfNamesReport.isValidName(tabApp3TextFieldUserName.getText());</span>
<span class="fc bfc" id="L883" title="All 2 branches covered.">    	if(nameValidationResult != &quot;SUCCESS&quot;) {</span>
    		// prompt alert 
<span class="fc" id="L885">    		alertText += &quot;Name in your information: &quot;+nameValidationResult;</span>
    	}
    	//Mate Name
<span class="fc" id="L888">    	nameValidationResult = PopularityOfNamesReport.isValidName(tabApp3TextFieldMateName.getText());</span>
<span class="fc bfc" id="L889" title="All 2 branches covered.">    	if(nameValidationResult != &quot;SUCCESS&quot;) {</span>
    		// prompt alert 
<span class="fc" id="L891">    		alertText += &quot;Name in your partner information: &quot;+nameValidationResult;</span>
    	}
    	// Gender validation - Check if a gender has been selected
<span class="pc bpc" id="L894" title="1 of 4 branches missed.">    	if(tabApp3UserGenderGroup.getSelectedToggle() == null || tabApp3MateGenderGroup.getSelectedToggle() == null) {</span>
    		// prompt alert
<span class="fc" id="L896">    		alertText +=&quot;Please select gender for both you and your partner!\n&quot;;</span>
    	}
    	//Horoscope validation - check if horoscope has been selected
<span class="pc bpc" id="L899" title="1 of 4 branches missed.">    	if(tabApp3ChoiceBoxUserHoroscope.getValue() == null || tabApp3ChoiceBoxMateHoroscope.getValue() == null) {</span>
<span class="fc" id="L900">    		alertText += &quot;Please select horoscope for both you and your partner!\n&quot;;</span>
    	}
    	// YOB validation
<span class="fc" id="L903">    	String year = tabApp3TextFieldUserYOB.getText();</span>
		// check if variable is null
<span class="fc bfc" id="L905" title="All 2 branches covered.">		if(!year.trim().isEmpty()) {</span>
			// check if it is numerical
<span class="pc bpc" id="L907" title="1 of 4 branches missed.">			if(year.matches(&quot;^\\d+$&quot;) &amp;&amp; year.matches(&quot;^\\d+$&quot;)) {</span>
<span class="fc" id="L908">				userBirthYear = Integer.parseInt(year);</span>
<span class="pc bpc" id="L909" title="1 of 4 branches missed.">				if (userBirthYear &lt; 1880 || userBirthYear &gt; 2019) {</span>
<span class="fc" id="L910">					alertText += &quot;Please select a valid Year of Birth within period 1880 - 2019\n&quot;;</span>
				}
			}
			else {
<span class="fc" id="L914">				alertText +=&quot;Please enter a valid number for Year of Birth!\n&quot;;</span>
			}
		}
		else {
<span class="fc" id="L918">			alertText += &quot;Please input the Year of Birth!\n&quot;;</span>
		}
    	// Age Preference validation - Check if a age pref has been selected
<span class="fc bfc" id="L921" title="All 2 branches covered.">    	if(tabApp3MateAgePreferenceGroup.getSelectedToggle() == null) {</span>
    		// prompt alert
<span class="fc" id="L923">    		alertText += &quot;Please select your age preference for partner!\n&quot;;</span>
    	}
    	// Algo Preference validation - Check if a age pref has been selected
<span class="fc bfc" id="L926" title="All 2 branches covered.">    	if(tabApp3AlgorithmGroup.getSelectedToggle() == null) {</span>
    		// prompt alert
<span class="fc" id="L928">    		alertText += &quot;Please select your algorithm preference for this service!\n&quot;;</span>
    	}
    	
<span class="fc bfc" id="L931" title="All 2 branches covered.">    	if(alertText != &quot;&quot;) {</span>
<span class="fc" id="L932">    		alert.setContentText(alertText);</span>
<span class="fc" id="L933">    		alert.show();</span>
<span class="fc" id="L934">    		return;</span>
    	}
    	else {
<span class="fc" id="L937">    		userName = tabApp3TextFieldUserName.getText(); // set name if valid</span>
<span class="fc" id="L938">    		mateName = tabApp3TextFieldMateName.getText(); // set name if valid</span>
    		
<span class="fc" id="L940">    		userBirthYear = Integer.parseInt(year);</span>
    		
<span class="fc bfc" id="L942" title="All 2 branches covered.">    		if(tabApp3RadioButtonUserMale.isSelected()) userGender = ScorePredictionService.Gender.MALE;</span>
<span class="fc" id="L943">    		else userGender = ScorePredictionService.Gender.FEMALE;</span>
<span class="fc bfc" id="L944" title="All 2 branches covered.">    		if(tabApp3RadioButtonMateMale.isSelected()) mateGender = ScorePredictionService.Gender.MALE;</span>
<span class="fc" id="L945">    		else mateGender = ScorePredictionService.Gender.FEMALE;</span>
    		
<span class="fc" id="L947">    		userHoroscope = ScorePredictionService.Horoscope.valueOf(tabApp3ChoiceBoxUserHoroscope.getValue().toUpperCase());</span>
<span class="pc bpc" id="L948" title="1 of 2 branches missed.">    		if(tabApp3ChoiceBoxMateHoroscope.getValue() == &quot;Not Sure&quot;) {</span>
<span class="nc" id="L949">    			mateHoroscope = ScorePredictionService.Horoscope.NOT_SURE;</span>
    		} 
    		else {
<span class="fc" id="L952">    			mateHoroscope = ScorePredictionService.Horoscope.valueOf(tabApp3ChoiceBoxMateHoroscope.getValue().toUpperCase());</span>
    		}
    		
<span class="pc bpc" id="L955" title="1 of 2 branches missed.">    		if(tabApp3RadioButtonMateOlder.isSelected()) mateAgePref = ScorePredictionService.mateAge.OLDER;</span>
<span class="fc" id="L956">    		else mateAgePref = ScorePredictionService.mateAge.YOUNGER;</span>
<span class="fc bfc" id="L957" title="All 2 branches covered.">    		if(tabApp3RadioButtonSimple.isSelected()) algoPref = ScorePredictionService.algorithm.SIMPLE;</span>
<span class="fc" id="L958">    		else algoPref = ScorePredictionService.algorithm.DETAILED;</span>
    	}
<span class="fc" id="L960">    	ScorePredictionService service = new ScorePredictionService(userName, userGender, userHoroscope, userBirthYear,</span>
			mateName, mateGender, mateHoroscope, mateAgePref);
<span class="fc bfc" id="L962" title="All 2 branches covered.">    	if(algoPref == ScorePredictionService.algorithm.SIMPLE) {</span>
<span class="fc" id="L963">    		textAreaConsole.setWrapText(true);</span>
<span class="fc" id="L964">    		textAreaConsole.setPadding(new Insets(5, 5, 5, 5));</span>
<span class="fc" id="L965">    		textAreaConsole.setText(service.getSimpleResult());</span>
    	}
    	else {
<span class="fc" id="L968">    		service.getDetailedReport();</span>
    	}
<span class="fc" id="L970">    }</span>
    

}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>